---
layout: post
title:  "Consul in k8s, for app config management! [WIP]"
date:   2019-11-03 17:02:34 +0530
categories: python fp
tags: [python, fp]
---
    We can use consul's key-value store for application configuration management. If the application exposes an endpoint which triggers configuration reload, consul's `watch` can be used for hotloading the configuration changes.
    
## Daemonset Vs Sidecar
    While deploying the consul client as a daemonset will cost less overhead, it
    will require 

### Logging calling function with decorators: <br>
``` python
def log_call(func):

    def inner(*args, **kwargs):
        print "calling {}".format(func.__name__)
        if args:
            print "with arguments: {}".format(str(args))
        if kwargs:
            print "with keyword arguments: {}".format(str(kwargs))
        return func(*args, **kwargs)

    return inner
```

[single responsibility]: https://en.wikipedia.org/wiki/Single_responsibility_principle
